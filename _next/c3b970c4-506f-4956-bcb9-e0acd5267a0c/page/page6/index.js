
          window.__NEXT_REGISTER_PAGE('/page6', function() {
            var comp = module.exports=webpackJsonp([3],{112:function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),u=a(n),r=i(199),s=a(r);e.default=function(){return u.default.createElement("div",null,u.default.createElement("p",null,"形を保てない問題 → 角度を維持させてみる"),u.default.createElement(s.default,null))}},197:function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(14),u=a(n),r=i(12),s=a(r),l=i(10),d=a(l),c=i(0),h=a(c),o=i(1),f=a(o),v=i(76),y=a(v),g=i(25),x=((0,g.throttle)(function(t){console.log(t)},500),function(){var t=0;return function(){return t++}}()),p=function(){function t(e,i,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];(0,h.default)(this,t),this.id=x(),this.x=e,this.y=i,this.r=a,this.spring=.1,this.friction=.8,this.vx=0,this.vy=0,this.gravity=1,this.chainTo=n,this.distance=120,this.angle}return(0,f.default)(t,[{key:"render",value:function(t){var e=this;t.beginPath(),this.chainTo.forEach(function(i){var a=e.getAccel(i),n=(0,d.default)(a,2),u=n[0],r=n[1];e.vx+=u,e.vx*=e.friction,e.x+=e.vx,e.vy+=e.gravity,e.vy+=r,e.vy*=e.friction,e.y+=e.vy,void 0!==e.angle&&e.doHinge(i);var l=new s.default([e.id,i.id]);e.isCalculated(l)||(t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(i.x,i.y),t.lineWidth=2,t.strokeStyle="rgba(155, 187, 89, 0.8)",t.stroke(),t.closePath()),y.default.calcHistory.push(l)}),this.checkFloor(this),t.arc(this.x,this.y,this.r,0,2*Math.PI,!0),t.fillStyle="rgba(155, 187, 89, 0.8)",t.fill()}},{key:"getTarget",value:function(t){var e=t.x-this.x,i=t.y-this.y,a=Math.atan2(i,e);return[t.x-Math.cos(a)*this.distance,t.y-Math.sin(a)*this.distance]}},{key:"getAccel",value:function(t){var e=this.getTarget(t),i=(0,d.default)(e,2),a=i[0],n=i[1];return[(a-this.x)*this.spring,(n-this.y)*this.spring]}},{key:"checkFloor",value:function(t){var e=t.y+t.r;if(e>y.default.height){var i=e-y.default.height;t.y-=i}}},{key:"doHinge",value:function(t){var e=this.getHingeAccel(t),i=(0,d.default)(e,2),a=i[0],n=i[1];t.vx+=a,t.vx*=t.friction-.05,t.x+=t.vx,this.x-=t.vx,t.vy+=n,t.vy*=t.friction-.05,t.y+=t.vy,this.y-=t.vy}},{key:"getRotated",value:function(t){var e=this.getHingeAngle(),i=this.angle-e,a=t.x-this.x,n=t.y-this.y,u=this.toRadian(i),r=Math.cos(u)*a-Math.sin(u)*n,s=Math.cos(u)*n+Math.sin(u)*a;return[r+this.x,s+this.y]}},{key:"getHingeAccel",value:function(t){var e=this.getRotated(t),i=(0,d.default)(e,2),a=i[0],n=i[1];return[(a-t.x)*t.spring,(n-t.y)*t.spring]}},{key:"toRadian",value:function(t){return t*(Math.PI/180)}},{key:"toDegree",value:function(t){return 180*t/Math.PI}},{key:"getHingeAngle",value:function(){var t=this.chainTo[0],e=this.chainTo[1],i=[t.x-this.x,t.y-this.y],a=[e.x-this.x,e.y-this.y],n=i[0]*a[0]+i[1]*a[1],u=Math.sqrt(Math.pow(i[0],2)+Math.pow(i[1],2)),r=Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)),s=n/(u*r),l=Math.acos(s);return this.toDegree(l)}},{key:"isCalculated",value:function(t){return y.default.calcHistory.some(function(e){return 0===[].concat((0,u.default)(t)).filter(function(t){return!e.has(t)}).length})}}]),t}();e.default=p},198:function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),u=a(n),r=i(1),s=a(r),l=i(76),d=a(l),c=function(){function t(e){(0,u.default)(this,t),this.contents=e,this.fit()}return(0,s.default)(t,[{key:"fit",value:function(){this.width=d.default.width,this.height=d.default.height,d.default.canvas.setAttribute("width",this.width),d.default.canvas.setAttribute("height",this.height),this.render()}},{key:"render",value:function(){d.default.ctx.clearRect(0,0,this.width,this.height),d.default.calcHistory=[],this.contents.forEach(function(t){t.render(d.default.ctx)}),requestAnimationFrame(this.render.bind(this))}}]),t}();e.default=c},199:function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(5),u=a(n),r=i(0),s=a(r),l=i(1),d=a(l),c=i(7),h=a(c),o=i(6),f=a(o),v=i(21),y=a(v),g=i(2),x=a(g),p=i(16),w=a(p),m=i(198),M=a(m),k=i(197),_=a(k),b=i(76),E=a(b),j=function(t){function e(){return(0,s.default)(this,e),(0,h.default)(this,(e.__proto__||(0,u.default)(e)).apply(this,arguments))}return(0,f.default)(e,t),(0,d.default)(e,[{key:"componentDidMount",value:function(){this.initVars(),this.initHanlder(),this.initDatGUI(E.default.stage)}},{key:"initVars",value:function(){var t=document.getElementById("stage"),e=t.getContext("2d"),i=document.getElementById("wrapper").clientWidth,a=document.getElementById("wrapper").clientHeight;E.default.canvas=t,E.default.ctx=e,E.default.width=i,E.default.height=a;var n=new _.default(60,60,10),u=new _.default(120,60,10),r=new _.default(60,120,10),s=new _.default(120,120,10);n.chainTo=[r,u],r.chainTo=[n,s],s.chainTo=[r,u],u.chainTo=[n,s],n.angle=90,r.angle=90,s.angle=90,u.angle=90;var l=new M.default([n,r,s,u]);E.default.stage=l}},{key:"initHanlder",value:function(){window.addEventListener("resize",function(){E.default.stage.fit()}),window.addEventListener("mousemove",function(t){E.default.cursor.x=t.offsetX,E.default.cursor.y=t.offsetY})}},{key:"initDatGUI",value:function(t){var e=new dat.GUI;t.contents.forEach(function(t){e.add(t,"r",1,10)})}},{key:"render",value:function(){return x.default.createElement("div",{id:"wrapper",className:"wrapper","data-jsx":2533452986},this.head(),x.default.createElement("canvas",{id:"stage",className:"stage","data-jsx":2533452986}),x.default.createElement(y.default,{styleId:3943408242,css:'div[data-jsx="2533452986"]{width:calc(100vw - 50px);height:100vh;margin:25px}canvas[data-jsx="2533452986"]{width:calc(100vw - 25px - 25px);height:calc(100vh - 25px - 25px);border:1px solid #000;border-radius:2px}'}),x.default.createElement(y.default,{styleId:2071694925,css:"html,body{margin:0;padding:0}"}))}},{key:"head",value:function(){return x.default.createElement(w.default,null,x.default.createElement("script",{type:"text/javascript",src:"https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.6.5/dat.gui.min.js"}))}}]),e}(x.default.Component);e.default=j},227:function(t,e,i){t.exports=i(112)},76:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(0),n=function(t){return t&&t.__esModule?t:{default:t}}(a),u=function t(){(0,n.default)(this,t),this.canvas,this.ctx,this.width,this.height,this.stage,this.cursor={x:0,y:0,id:-1},this.calcHistory=[]};e.default=new u}},[227]);
            return { page: comp.default }
          })
        